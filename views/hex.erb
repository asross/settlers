<% here    = [hex.x,   hex.y  ] %>
<% top     = [hex.x,   hex.y-1] %>
<% topleft = [hex.x-1, hex.y  ] %>
<% botleft = [hex.x-1, hex.y+1] %>

<div class='hex' data-coords='<%= here %>'>
  <div class='tile first <%= hex.type %>'>
    <%= erb :road, layout: false, locals: { coords: [here, botleft], botleft: true } %>
  </div>
  <div class='tile second <%= hex.type %>'>
    <%= erb :city, layout: false, locals: { coords: [here, topleft, botleft] } %>
    <%= erb :road, layout: false, locals: { coords: [here, topleft] } %>
  </div>
  <div class='tile third <%= hex.type %>'>
    <%= erb :city, layout: false, locals: { coords: [here, top, topleft] } %>
    <%= erb :road, layout: false, locals: { coords: [here, top] } %>
  </div>
  <% if hex.robbed %>
    <div class='number robbed'> r </div>
  <% else %>
    <div class='number'><%= hex.number %></div>
  <% end %>
</div>
